@model CouncilAtelier.Models.Ogrenci
@{
    ViewData["Title"] = "Profilim";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="page-hero">
    <div class="page-hero-inner">
        <h1 class="page-title">Ho≈ügeldin, @Model.Ad!</h1>
        <p class="page-subtitle">Program ve workshop kayƒ±tlarƒ±nƒ± buradan takip edebilirsin</p>
    </div>
</div>

<div class="list-section">
    <div class="list-inner">
        <!-- Kullanƒ±cƒ± Bilgileri -->
        <div style="background: var(--bg-secondary); padding: 24px; border-radius: 8px; margin-bottom: 40px;">
            <h3 style="font-size: 18px; font-weight: 700; margin: 0 0 16px 0; text-transform: uppercase;">Hesap Bilgileri</h3>
            <div style="display: grid; gap: 12px;">
                <p style="margin: 0;"><strong>Ad Soyad:</strong> @Model.TamAd</p>
                <p style="margin: 0;"><strong>E-posta:</strong> @Model.Email</p>
                @if (!string.IsNullOrEmpty(Model.Telefon))
                {
                    <p style="margin: 0;"><strong>Telefon:</strong> @Model.Telefon</p>
                }
                <p style="margin: 0;"><strong>Kayƒ±t Tarihi:</strong> @Model.KayitTarihi.ToString("dd MMMM yyyy")</p>
            </div>
        </div>

        <!-- Programlar -->
        <div style="margin-bottom: 40px;">
            <div class="section-head">
                <h2 class="section-title">Kayƒ±tlƒ± Olduƒüun Programlar</h2>
                <span style="font-size: 14px; color: var(--muted);">@Model.ProgramKayitlari.Count Program</span>
            </div>

            @if (Model.ProgramKayitlari.Any())
            {
                <div class="program-grid" style="margin-top: 24px;">
                    @foreach (var kayit in Model.ProgramKayitlari.OrderByDescending(k => k.KayitTarihi))
                    {
                        <div class="program-card">
                            <a asp-controller="Programlar" asp-action="Details" asp-route-id="@kayit.Program.Id">
                                <div class="program-card-header">
                                    @if (kayit.Program.Category != null)
                                    {
                                        <span class="program-card-category">@kayit.Program.Category.Name</span>
                                    }
                                </div>
                                <div class="program-card-body">
                                    <h3 class="program-card-title">@kayit.Program.Title</h3>
                                    <p class="program-card-desc">@kayit.Program.Description</p>
                                    <p style="font-size: 12px; color: var(--muted); margin-top: 12px;">
                                        <strong>Kayƒ±t Tarihi:</strong> @kayit.KayitTarihi.ToString("dd MMM yyyy")
                                    </p>
                                </div>
                                <div class="program-card-footer">
                                    <span class="program-card-link">
                                        Detaylarƒ± G√∂r
                                        <span>‚Üí</span>
                                    </span>
                                </div>
                            </a>
                        </div>
                    }
                </div>
            }
            else
            {
                <div style="text-align: center; padding: 60px 20px; background: var(--bg-secondary); border-radius: 8px; margin-top: 24px;">
                    <p style="font-size: 48px; margin: 0 0 16px 0;">üìö</p>
                    <h3 style="font-size: 18px; font-weight: 600; margin: 0 0 8px 0;">Hen√ºz programa kayƒ±tlƒ± deƒüilsin</h3>
                    <p style="color: var(--muted); margin: 0 0 20px 0;">ƒ∞lginizi √ßeken programlara g√∂z atƒ±n</p>
                    <a asp-controller="Programlar" asp-action="Index" class="btn-solid" style="display: inline-block; text-decoration: none;">
                        Programlarƒ± Ke≈üfet
                    </a>
                </div>
            }
        </div>

        <!-- Workshoplar -->
        <div>
            <div class="section-head">
                <h2 class="section-title">Kayƒ±tlƒ± Olduƒüun Workshoplar</h2>
                <span style="font-size: 14px; color: var(--muted);">@Model.WorkshopKayitlari.Count Workshop</span>
            </div>

            @if (Model.WorkshopKayitlari.Any())
            {
                <div class="workshop-grid" style="margin-top: 24px;">
                    @foreach (var kayit in Model.WorkshopKayitlari.OrderByDescending(k => k.KayitTarihi))
                    {
                        <div class="workshop-card">
                            <a asp-controller="Workshoplar" asp-action="Details" asp-route-id="@kayit.Workshop.Id">
                                @if (!string.IsNullOrEmpty(kayit.Workshop.ImagePath))
                                {
                                    <div class="workshop-card-image">
                                        <img src="@kayit.Workshop.ImagePath" alt="@kayit.Workshop.Title" />
                                        <span class="workshop-card-badge">Kayƒ±tlƒ±</span>
                                    </div>
                                }
                                <div class="workshop-card-content">
                                    <h3 class="workshop-card-title">@kayit.Workshop.Title</h3>
                                    <p class="workshop-card-desc">@kayit.Workshop.Description</p>
                                    <div class="workshop-card-meta">
                                        @if (kayit.Workshop.EventDate.HasValue)
                                        {
                                            <div class="workshop-card-info">
                                                <span class="workshop-icon">üìÖ</span>
                                                <span>@kayit.Workshop.EventDate.Value.ToString("dd MMMM yyyy")</span>
                                            </div>
                                        }
                                        @if (!string.IsNullOrEmpty(kayit.Workshop.Location))
                                        {
                                            <div class="workshop-card-info">
                                                <span class="workshop-icon">üìç</span>
                                                <span>@kayit.Workshop.Location</span>
                                            </div>
                                        }
                                        <p style="font-size: 12px; color: var(--muted); margin-top: 8px;">
                                            <strong>Kayƒ±t Tarihi:</strong> @kayit.KayitTarihi.ToString("dd MMM yyyy")
                                        </p>
                                    </div>
                                    <a asp-controller="Workshoplar" asp-action="Details" asp-route-id="@kayit.Workshop.Id" class="workshop-card-btn">
                                        Detaylarƒ± G√∂r ‚Üí
                                    </a>
                                </div>
                            </a>
                        </div>
                    }
                </div>
            }
            else
            {
                <div style="text-align: center; padding: 60px 20px; background: var(--bg-secondary); border-radius: 8px; margin-top: 24px;">
                    <p style="font-size: 48px; margin: 0 0 16px 0;">üé®</p>
                    <h3 style="font-size: 18px; font-weight: 600; margin: 0 0 8px 0;">Hen√ºz workshop'a kayƒ±tlƒ± deƒüilsin</h3>
                    <p style="color: var(--muted); margin: 0 0 20px 0;">ƒ∞lginizi √ßeken workshop'lara g√∂z atƒ±n</p>
                    <a asp-controller="Workshoplar" asp-action="Index" class="btn-solid" style="display: inline-block; text-decoration: none;">
                        Workshop'larƒ± Ke≈üfet
                    </a>
                </div>
            }
        </div>
    </div>
</div>
